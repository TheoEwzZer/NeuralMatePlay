{
  "pretraining": {
    "pgn_path": "data/lichess_elite_2020-08.pgn",
    "output_path": "models/pretrained.pt",
    "chunks_dir": "data/chunks",
    "chunk_size": 20000,
    "epochs": 5,
    "batch_size": 640,
    "learning_rate": 0.00005,
    "weight_decay": 0.0002,
    "label_smoothing": 0.05,
    "gradient_clip_norm": 1.0,
    "lr_decay_factor": 0.7,
    "lr_decay_patience": 5,
    "min_learning_rate": 1e-5,
    "checkpoint_keep_last": 10,
    "validation_split": 0.1,
    "patience": 7,
    "min_elo": 2200,
    "max_games": null,
    "max_positions": null,
    "skip_first_n_moves": 0,
    "value_loss_weight": 1.5,
    "entropy_coefficient": 0.01,
    "prefetch_workers": 2,
    "gradient_accumulation_steps": 2
  },
  "training": {
    "checkpoint_path": "checkpoints",
    "iterations": 100,
    "games_per_iteration": 100,
    "num_simulations": 800,
    "mcts_batch_size": 32,
    "batch_size": 1024,
    "learning_rate": 0.000005,
    "lr_decay": 0.99,
    "min_learning_rate": 1e-5,
    "weight_decay": 1e-4,
    "epochs_per_iteration": 1,
    "patience": 10,
    "buffer_size": 500000,
    "min_buffer_size": 5000,
    "recent_weight": 0.8,
    "arena_interval": 5,
    "arena_games": 20,
    "arena_simulations": 400,
    "veto_threshold": 0.75,
    "max_moves": 200,
    "temperature_moves": 30,
    "dirichlet_alpha": 0.3,
    "dirichlet_epsilon": 0.25,
    "c_puct": 1.5,
    "pretrained_path": "models/pretrained_best_1_network.pt",
    "pretrain_mix_ratio": 0.5,
    "pretrain_label_smoothing": 0.1,
    "pretrain_chunks_loaded": 15,
    "kl_loss_weight": 0.1,
    "kl_target": 0.1,
    "kl_weight_base": 0.5,
    "kl_weight_max": 5.0,
    "kl_adaptive_factor": 10.0,
    "kl_warning_threshold": 0.15,
    "kl_critical_threshold": 0.3,
    "veto_buffer_purge_ratio": 0.25,
    "veto_recovery_iterations": 3,
    "use_best_for_selfplay": true,
    "veto_escalation_lr_factor": 0.5,
    "veto_exploration_ratio": 0.3,
    "veto_critical_purge_ratio": 0.5
  },
  "network": {
    "num_filters": 192,
    "num_residual_blocks": 12,
    "history_length": 3
  }
}
